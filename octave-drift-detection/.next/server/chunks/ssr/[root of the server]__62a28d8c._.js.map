{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/components/D3ConfusionMatrix.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nexport interface D3ConfusionMatrixProps {\r\n  data: number[][];\r\n  labels: string[];\r\n  title?: string;\r\n  width: number;   // the “inner” width (cells only)\r\n  height: number;  // the “inner” height (cells only)\r\n}\r\n\r\nconst D3ConfusionMatrix: React.FC<D3ConfusionMatrixProps> = ({\r\n  data,\r\n  labels,\r\n  title,\r\n  width,\r\n  height,\r\n}) => {\r\n  const svgRef = useRef<SVGSVGElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!data.length || !svgRef.current) return;\r\n\r\n    // --- margins around the matrix, in pixels\r\n    const margin = { top: title ? 30 : 10, right: 10, bottom: 10, left: 10 };\r\n\r\n    // total SVG coordinate size\r\n    const totalWidth = width + margin.left + margin.right;\r\n    const totalHeight = height + margin.top + margin.bottom;\r\n\r\n    // scales for cells\r\n    const xScale = d3\r\n      .scaleBand<string>()\r\n      .domain(labels)\r\n      .range([0, width])\r\n      .padding(0.05);\r\n\r\n    const yScale = d3\r\n      .scaleBand<string>()\r\n      .domain(labels)\r\n      .range([0, height])\r\n      .padding(0.05);\r\n\r\n    // color ramp\r\n    const maxVal = d3.max(data.flat()) ?? 1;\r\n    const colorScale = d3.scaleSequential(d3.interpolateBlues).domain([0, maxVal]);\r\n\r\n    // set up the SVG\r\n    const svg = d3.select(svgRef.current);\r\n    svg.selectAll(\"*\").remove();\r\n    svg.attr(\"viewBox\", `0 0 ${totalWidth} ${totalHeight}`);\r\n\r\n    // optional title\r\n    if (title) {\r\n      svg\r\n        .append(\"text\")\r\n        .attr(\"x\", totalWidth / 2)\r\n        .attr(\"y\", margin.top / 2)\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .style(\"fill\", \"white\")\r\n        .style(\"font-size\", \"14px\")\r\n        .text(title);\r\n    }\r\n\r\n    // container for everything, offset by margin\r\n    const g = svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n    // draw cells + numbers\r\n    data.forEach((row, i) => {\r\n      row.forEach((val, j) => {\r\n        // raw positions in the inner 0..width / 0..height\r\n        const rx = xScale(labels[j])!;\r\n        const ry = yScale(labels[i])!;\r\n        const rw = xScale.bandwidth();\r\n        const rh = yScale.bandwidth();\r\n\r\n        // round to integers so that both rect and text align perfectly\r\n        const x = Math.round(rx);\r\n        const y = Math.round(ry);\r\n        const w = Math.round(rw);\r\n        const h = Math.round(rh);\r\n\r\n        // background rect\r\n        g.append(\"rect\")\r\n          .attr(\"x\", x)\r\n          .attr(\"y\", y)\r\n          .attr(\"width\", w)\r\n          .attr(\"height\", h)\r\n          .attr(\"fill\", colorScale(val))\r\n          .attr(\"stroke\", \"#334155\")\r\n          .attr(\"stroke-width\", 0.5);\r\n\r\n        // centered text\r\n        g.append(\"text\")\r\n          .attr(\"x\", x + w / 2)\r\n          .attr(\"y\", y + h / 2)\r\n          .attr(\"text-anchor\", \"middle\")\r\n          .attr(\"dominant-baseline\", \"middle\")\r\n          .style(\"font-size\", `${Math.floor(Math.min(w, h) * 0.4)}px`)\r\n          .attr(\"fill\", val > maxVal / 2 ? \"white\" : \"black\")\r\n          .text(val);\r\n      });\r\n    });\r\n\r\n    // X axis (top)\r\n    g.append(\"g\")\r\n      .attr(\"transform\", `translate(0,0)`)\r\n      .call(d3.axisTop(xScale).tickSize(0))\r\n      .selectAll(\"text\")\r\n      .style(\"font-size\", \"10px\")\r\n      .attr(\"dy\", \"-0.3em\");\r\n\r\n    // Y axis (left)\r\n    g.append(\"g\")\r\n      .attr(\"transform\", `translate(0,0)`)\r\n      .call(d3.axisLeft(yScale).tickSize(0))\r\n      .selectAll(\"text\")\r\n      .style(\"font-size\", \"10px\")\r\n      .attr(\"dx\", \"-0.3em\");\r\n\r\n    // remove domain lines\r\n    g.selectAll(\".domain\").remove();\r\n\r\n    // axis labels\r\n    g.append(\"text\")\r\n      .attr(\"x\", width / 2)\r\n      .attr(\"y\", -margin.top / 2)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .style(\"fill\", \"#94a3b8\")\r\n      .style(\"font-size\", \"12px\")\r\n      .text(\"Predicted\");\r\n\r\n    g.append(\"text\")\r\n      .attr(\"transform\", `translate(${-margin.left / 2},${height / 2}) rotate(-90)`)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .style(\"fill\", \"#94a3b8\")\r\n      .style(\"font-size\", \"12px\")\r\n      .text(\"Actual\");\r\n  }, [data, labels, title, width, height]);\r\n\r\n  return (\r\n    <svg\r\n      ref={svgRef}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default D3ConfusionMatrix;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAaA,MAAM,oBAAsD,CAAC,EAC3D,IAAI,EACJ,MAAM,EACN,KAAK,EACL,KAAK,EACL,MAAM,EACP;IACC,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAiB;IAErC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,KAAK,MAAM,IAAI,CAAC,OAAO,OAAO,EAAE;QAErC,2CAA2C;QAC3C,MAAM,SAAS;YAAE,KAAK,QAAQ,KAAK;YAAI,OAAO;YAAI,QAAQ;YAAI,MAAM;QAAG;QAEvE,4BAA4B;QAC5B,MAAM,aAAa,QAAQ,OAAO,IAAI,GAAG,OAAO,KAAK;QACrD,MAAM,cAAc,SAAS,OAAO,GAAG,GAAG,OAAO,MAAM;QAEvD,mBAAmB;QACnB,MAAM,SAAS,CAAA,GAAA,kLAAA,CAAA,YACH,AAAD,IACR,MAAM,CAAC,QACP,KAAK,CAAC;YAAC;YAAG;SAAM,EAChB,OAAO,CAAC;QAEX,MAAM,SAAS,CAAA,GAAA,kLAAA,CAAA,YACH,AAAD,IACR,MAAM,CAAC,QACP,KAAK,CAAC;YAAC;YAAG;SAAO,EACjB,OAAO,CAAC;QAEX,aAAa;QACb,MAAM,SAAS,CAAA,GAAA,2KAAA,CAAA,MAAM,AAAD,EAAE,KAAK,IAAI,OAAO;QACtC,MAAM,aAAa,CAAA,GAAA,8LAAA,CAAA,kBAAkB,AAAD,EAAE,+NAAA,CAAA,mBAAmB,EAAE,MAAM,CAAC;YAAC;YAAG;SAAO;QAE7E,iBAAiB;QACjB,MAAM,MAAM,CAAA,GAAA,qLAAA,CAAA,SAAS,AAAD,EAAE,OAAO,OAAO;QACpC,IAAI,SAAS,CAAC,KAAK,MAAM;QACzB,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE,aAAa;QAEtD,iBAAiB;QACjB,IAAI,OAAO;YACT,IACG,MAAM,CAAC,QACP,IAAI,CAAC,KAAK,aAAa,GACvB,IAAI,CAAC,KAAK,OAAO,GAAG,GAAG,GACvB,IAAI,CAAC,eAAe,UACpB,KAAK,CAAC,QAAQ,SACd,KAAK,CAAC,aAAa,QACnB,IAAI,CAAC;QACV;QAEA,6CAA6C;QAC7C,MAAM,IAAI,IACP,MAAM,CAAC,KACP,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,OAAO,IAAI,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC;QAE9D,uBAAuB;QACvB,KAAK,OAAO,CAAC,CAAC,KAAK;YACjB,IAAI,OAAO,CAAC,CAAC,KAAK;gBAChB,kDAAkD;gBAClD,MAAM,KAAK,OAAO,MAAM,CAAC,EAAE;gBAC3B,MAAM,KAAK,OAAO,MAAM,CAAC,EAAE;gBAC3B,MAAM,KAAK,OAAO,SAAS;gBAC3B,MAAM,KAAK,OAAO,SAAS;gBAE3B,+DAA+D;gBAC/D,MAAM,IAAI,KAAK,KAAK,CAAC;gBACrB,MAAM,IAAI,KAAK,KAAK,CAAC;gBACrB,MAAM,IAAI,KAAK,KAAK,CAAC;gBACrB,MAAM,IAAI,KAAK,KAAK,CAAC;gBAErB,kBAAkB;gBAClB,EAAE,MAAM,CAAC,QACN,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,SAAS,GACd,IAAI,CAAC,UAAU,GACf,IAAI,CAAC,QAAQ,WAAW,MACxB,IAAI,CAAC,UAAU,WACf,IAAI,CAAC,gBAAgB;gBAExB,gBAAgB;gBAChB,EAAE,MAAM,CAAC,QACN,IAAI,CAAC,KAAK,IAAI,IAAI,GAClB,IAAI,CAAC,KAAK,IAAI,IAAI,GAClB,IAAI,CAAC,eAAe,UACpB,IAAI,CAAC,qBAAqB,UAC1B,KAAK,CAAC,aAAa,GAAG,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,EAAE,CAAC,EAC1D,IAAI,CAAC,QAAQ,MAAM,SAAS,IAAI,UAAU,SAC1C,IAAI,CAAC;YACV;QACF;QAEA,eAAe;QACf,EAAE,MAAM,CAAC,KACN,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAClC,IAAI,CAAC,CAAA,GAAA,yIAAA,CAAA,UAAU,AAAD,EAAE,QAAQ,QAAQ,CAAC,IACjC,SAAS,CAAC,QACV,KAAK,CAAC,aAAa,QACnB,IAAI,CAAC,MAAM;QAEd,gBAAgB;QAChB,EAAE,MAAM,CAAC,KACN,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAClC,IAAI,CAAC,CAAA,GAAA,yIAAA,CAAA,WAAW,AAAD,EAAE,QAAQ,QAAQ,CAAC,IAClC,SAAS,CAAC,QACV,KAAK,CAAC,aAAa,QACnB,IAAI,CAAC,MAAM;QAEd,sBAAsB;QACtB,EAAE,SAAS,CAAC,WAAW,MAAM;QAE7B,cAAc;QACd,EAAE,MAAM,CAAC,QACN,IAAI,CAAC,KAAK,QAAQ,GAClB,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,GACxB,IAAI,CAAC,eAAe,UACpB,KAAK,CAAC,QAAQ,WACd,KAAK,CAAC,aAAa,QACnB,IAAI,CAAC;QAER,EAAE,MAAM,CAAC,QACN,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,OAAO,IAAI,GAAG,EAAE,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAC5E,IAAI,CAAC,eAAe,UACpB,KAAK,CAAC,QAAQ,WACd,KAAK,CAAC,aAAa,QACnB,IAAI,CAAC;IACV,GAAG;QAAC;QAAM;QAAQ;QAAO;QAAO;KAAO;IAEvC,qBACE,8OAAC;QACC,KAAK;QACL,OAAM;QACN,QAAO;QACP,qBAAoB;;;;;;AAG1B;uCAEe","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/services/backendService2.ts"],"sourcesContent":["// services/backendService2.ts\n\nexport interface KPI {\n  rowKey: string;\n  value: string;\n  status?: string;\n}\n\nexport interface PlotDataPoint {\n  x: number;\n  y: number;\n  value?: number;\n  exceedsThreshold: boolean;\n}\n\nexport interface TableDataPoint {\n  id: string;\n  timePeriod: string;\n  status: string;\n}\n\nexport interface OutletsExceedingThreshold {\n  id: string;\n  y_true: number;\n  y_pred: number;\n  percentage_error: number;\n}\n\nexport interface DetailedMetric {\n  total_samples: number;\n  correct_predictions: { count: number; percentage: number; };\n  incorrect_predictions: { count: number; percentage: number; };\n  misclassifications: Record<string, { count: number; percentage: number; }>;\n}\n\nexport async function fetchData(): Promise<{\n  kpis: KPI[];\n  errors: { plotData: PlotDataPoint[]; tableData: TableDataPoint[] };\n  referenceMatrix: number[][];\n  currentMatrix: number[][];\n  outletsExceedingThreshold: OutletsExceedingThreshold[];\n  detailedMetrics: Record<string, DetailedMetric>;\n  state: string;\n  coverage: any;\n  clusters: any;\n  backwardAnalysis: any;\n  currentPeriod: string;\n  totalOutlets: number;\n  outletsExceedingThresholdCount: number;\n  xaiExplanation: string;\n}> {\n  try {\n    console.log(\"Fetching data from backend via relative URL: /mode3/data\");\n    const response = await fetch(`/mode3/data`, { credentials: 'include' });\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const rawData = await response.json();\n    console.log(\"Parsed data:\", rawData);\n\n    // 1) Build KPIs\n    const kpis: KPI[] = [\n      {\n        rowKey: \"Drift Detected\",\n        value: rawData.drift_state?.drift_detected ? \"Yes\" : \"No\",\n        status: rawData.drift_state?.drift_detected ? \"Alert\" : \"Normal\",\n      },\n      {\n        rowKey: \"Jensen–Shannon Divergence\",\n        value: rawData.drift_state?.jensen_shannon_divergence\n          ? rawData.drift_state.jensen_shannon_divergence.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Population Stability Index\",\n        value: rawData.drift_state?.population_stability_index\n          ? rawData.drift_state.population_stability_index.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Precision (Reference)\",\n        value: rawData.metrics?.reference?.precision\n          ? rawData.metrics.reference.precision.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Precision (Current)\",\n        value: rawData.metrics?.current?.precision\n          ? rawData.metrics.current.precision.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Recall (Reference)\",\n        value: rawData.metrics?.reference?.recall\n          ? rawData.metrics.reference.recall.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Recall (Current)\",\n        value: rawData.metrics?.current?.recall\n          ? rawData.metrics.current.recall.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"F1 Score (Reference)\",\n        value: rawData.metrics?.reference?.f1_score\n          ? rawData.metrics.reference.f1_score.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"F1 Score (Current)\",\n        value: rawData.metrics?.current?.f1_score\n          ? rawData.metrics.current.f1_score.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Accuracy\",\n        value: rawData.overall_metrics?.accuracy != null\n          ? rawData.overall_metrics.accuracy.toFixed(2)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Error Rate\",\n        value: rawData.overall_metrics?.error_rate != null\n          ? rawData.overall_metrics.error_rate.toFixed(2)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Status\",\n        value: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n        status: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n      },\n    ];\n\n    // 2) Pull both reference & current confusion-matrices\n    const referenceMatrix: number[][] =\n      rawData.confusion_matrices?.reference ??\n      rawData.confusion_matrix?.normalized ??\n      rawData.confusion_matrix?.raw ??\n      [];\n    const currentMatrix: number[][] =\n      rawData.confusion_matrices?.current ??\n      rawData.confusion_matrix?.normalized ??\n      rawData.confusion_matrix?.raw ??\n      [];\n\n    // 3) Flatten referenceMatrix into plotData\n    const plotData: PlotDataPoint[] = [];\n    referenceMatrix.forEach((row, y) =>\n      row.forEach((val, x) =>\n        plotData.push({ x, y, value: val, exceedsThreshold: false })\n      )\n    );\n\n    // 4) Table of misclassified cases\n    const tableData: TableDataPoint[] = (rawData.misclassified_table || []).map(\n      (item: any) => ({\n        id: item.id,\n        timePeriod: `True ${item.True} → Pred ${item.Predicted}`,\n        status: \"Misclassified\",\n      })\n    );\n\n    // 5) Outlets (we no longer need them—but still return for backward compatibility)\n    const outletsExceedingThreshold = (rawData.outlets_exceeding_threshold || []).map(\n      (item: any) => ({\n        id: item.id?.toString() || \"\",\n        y_true: item.y_true || 0,\n        y_pred: item.y_pred || 0,\n        percentage_error: item.percentage_error || 0,\n      })\n    );\n\n    // 6) Detailed metrics\n    const detailedMetrics: Record<string, DetailedMetric> =\n      rawData.detailed_metrics || {};\n\n    // 7) Other fields\n    return {\n      kpis,\n      errors: { plotData, tableData },\n      referenceMatrix,\n      currentMatrix,\n      outletsExceedingThreshold,\n      detailedMetrics,\n      state: rawData.state || \"Unknown\",\n      coverage: rawData.coverage || {},\n      clusters: rawData.clusters || {},\n      backwardAnalysis: rawData.backward_analysis || {},\n      currentPeriod: rawData.current_period || \"N/A\",\n      totalOutlets: rawData.total_outlets || 0,\n      outletsExceedingThresholdCount:\n        rawData.outlets_exceeding_threshold_count || 0,\n      xaiExplanation: rawData.explanation || \"No explanation available\",\n    };\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n    throw new Error(\"Failed to fetch and process data\");\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/services/dashboardService.ts"],"sourcesContent":["/**\n * Shared typings\n * -------------------------------------------------------------------------- */\nexport interface Entry {\n  user: string\n  Runtime: string\n  BusinessUnit: string\n  useCase: string\n  ShortCode: string\n  JSONLink: string\n  alertKeeper: string\n}\n\nexport interface EntriesTableFilter {\n  user?: string\n  Runtime?: string\n  BusinessUnit?: string\n  useCase?: string\n  ShortCode?: string\n  JSONLink?: string\n  alertKeeper?: string          // single name – e.g. \"Kalpa\"\n}\n\n/**\n * Utility helpers\n * -------------------------------------------------------------------------- */\nconst eq = (a?: string, b?: string) =>\n  a !== undefined && b !== undefined ? a.toLowerCase() === b.toLowerCase() : true\n\n/**\n * Fetch the entries table from the API and **return only the rows that match\n * the supplied `filters` object**.  \n *\n * The API is *supposed* to filter server‑side, but we’ve seen it sometimes\n * return the full table (all business units, use‑cases, etc.).  To guarantee\n * correctness we:\n *\n *  1. Pass the query‑string parameters that mirror `filters`.\n *  2. Apply the same filters again in the client, so the caller *always* gets\n *     the precise subset it asked for, even if the backend forgets.\n */\nexport async function fetchEntriesTable(\n  filters: EntriesTableFilter = {},\n): Promise<Entry[]> {\n  /* ------------------------------------------------------------------ */\n  /* 1️⃣  Build the query string we’ll send to the server                */\n  /* ------------------------------------------------------------------ */\n  const params = new URLSearchParams()\n  if (filters.user)         params.append('user',         filters.user)\n  if (filters.Runtime)      params.append('Runtime',      filters.Runtime)\n  if (filters.BusinessUnit) params.append('BusinessUnit', filters.BusinessUnit)\n  if (filters.useCase)      params.append('useCase',      filters.useCase)\n  if (filters.ShortCode)    params.append('ShortCode',    filters.ShortCode)\n  if (filters.JSONLink)     params.append('JSONLink',     filters.JSONLink)\n  if (filters.alertKeeper)  params.append('alertKeeper',  filters.alertKeeper)\n\n  /* ------------------------------------------------------------------ */\n  /* 2️⃣  Fetch from the API                                             */\n  /* ------------------------------------------------------------------ */\n  const res = await fetch(`/api/entries-table?${params.toString()}`, {\n    credentials: 'include',\n  })\n\n  if (!res.ok) {\n    throw new Error(`Failed to fetch entries table: ${res.status} ${res.statusText}`)\n  }\n\n  const allRows: Entry[] = await res.json()\n\n  /* ------------------------------------------------------------------ */\n  /* 3️⃣  Apply the same filters client‑side (safety‑net)                */\n  /* ------------------------------------------------------------------ */\n  const rows = allRows.filter((e) => {\n    if (filters.user         && !eq(e.user,          filters.user        )) return false\n    if (filters.Runtime      &&  e.Runtime         !== filters.Runtime     ) return false\n    if (filters.BusinessUnit && !eq(e.BusinessUnit, filters.BusinessUnit)) return false\n    if (filters.useCase      && !eq(e.useCase,      filters.useCase     )) return false\n    if (filters.ShortCode    &&  e.ShortCode       !== filters.ShortCode   ) return false\n    if (filters.JSONLink     &&  e.JSONLink        !== filters.JSONLink    ) return false\n\n    /* alertKeeper: treat it as a comma‑separated list in the source    */\n    if (filters.alertKeeper) {\n      const keepers = e.alertKeeper\n        .split(',')\n        .map((s) => s.trim().toLowerCase())\n      if (!keepers.includes(filters.alertKeeper.toLowerCase())) return false\n    }\n\n    return true\n  })\n\n  return rows\n}\n"],"names":[],"mappings":"AAAA;;8EAE8E;;;AAqB9E;;8EAE8E,GAC9E,MAAM,KAAK,CAAC,GAAY,IACtB,MAAM,aAAa,MAAM,YAAY,EAAE,WAAW,OAAO,EAAE,WAAW,KAAK;AActE,eAAe,kBACpB,UAA8B,CAAC,CAAC;IAEhC,sEAAsE,GACtE,uEAAuE,GACvE,sEAAsE,GACtE,MAAM,SAAS,IAAI;IACnB,IAAI,QAAQ,IAAI,EAAU,OAAO,MAAM,CAAC,QAAgB,QAAQ,IAAI;IACpE,IAAI,QAAQ,OAAO,EAAO,OAAO,MAAM,CAAC,WAAgB,QAAQ,OAAO;IACvE,IAAI,QAAQ,YAAY,EAAE,OAAO,MAAM,CAAC,gBAAgB,QAAQ,YAAY;IAC5E,IAAI,QAAQ,OAAO,EAAO,OAAO,MAAM,CAAC,WAAgB,QAAQ,OAAO;IACvE,IAAI,QAAQ,SAAS,EAAK,OAAO,MAAM,CAAC,aAAgB,QAAQ,SAAS;IACzE,IAAI,QAAQ,QAAQ,EAAM,OAAO,MAAM,CAAC,YAAgB,QAAQ,QAAQ;IACxE,IAAI,QAAQ,WAAW,EAAG,OAAO,MAAM,CAAC,eAAgB,QAAQ,WAAW;IAE3E,sEAAsE,GACtE,uEAAuE,GACvE,sEAAsE,GACtE,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,OAAO,QAAQ,IAAI,EAAE;QACjE,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,EAAE;IAClF;IAEA,MAAM,UAAmB,MAAM,IAAI,IAAI;IAEvC,sEAAsE,GACtE,uEAAuE,GACvE,sEAAsE,GACtE,MAAM,OAAO,QAAQ,MAAM,CAAC,CAAC;QAC3B,IAAI,QAAQ,IAAI,IAAY,CAAC,GAAG,EAAE,IAAI,EAAW,QAAQ,IAAI,GAAW,OAAO;QAC/E,IAAI,QAAQ,OAAO,IAAU,EAAE,OAAO,KAAa,QAAQ,OAAO,EAAO,OAAO;QAChF,IAAI,QAAQ,YAAY,IAAI,CAAC,GAAG,EAAE,YAAY,EAAE,QAAQ,YAAY,GAAG,OAAO;QAC9E,IAAI,QAAQ,OAAO,IAAS,CAAC,GAAG,EAAE,OAAO,EAAO,QAAQ,OAAO,GAAQ,OAAO;QAC9E,IAAI,QAAQ,SAAS,IAAQ,EAAE,SAAS,KAAW,QAAQ,SAAS,EAAK,OAAO;QAChF,IAAI,QAAQ,QAAQ,IAAS,EAAE,QAAQ,KAAY,QAAQ,QAAQ,EAAM,OAAO;QAEhF,oEAAoE,GACpE,IAAI,QAAQ,WAAW,EAAE;YACvB,MAAM,UAAU,EAAE,WAAW,CAC1B,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,GAAG,WAAW;YAClC,IAAI,CAAC,QAAQ,QAAQ,CAAC,QAAQ,WAAW,CAAC,WAAW,KAAK,OAAO;QACnE;QAEA,OAAO;IACT;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/app/mode3/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport ReactMarkdown from \"react-markdown\"\nimport D3ConfusionMatrix from \"../../components/D3ConfusionMatrix\"\nimport { AlertCircle, AlertTriangle, CheckCircle, RefreshCw, Info } from \"lucide-react\"\nimport { Chart, registerables } from \"chart.js\"\nimport { useSearchParams } from \"next/navigation\"\nimport { fetchData, type KPI, type PlotDataPoint, type TableDataPoint } from \"../../services/backendService2\"\nimport { fetchEntriesTable } from \"../../services/dashboardService\"\n\nChart.register(...registerables)\n\n// Define the entry table interface\ninterface EntryTableItem {\n  BusinessUnit: string\n  useCase: string\n  ShortCode: string\n  Runtime: string\n  alertKeeper: string\n}\n\ninterface DetailedMetric {\n  total_samples: number\n  correct_predictions: { count: number; percentage: number }\n  incorrect_predictions: { count: number; percentage: number }\n  misclassifications: Record<string, { count: number; percentage: number }>\n}\n\nexport default function Mode3Page() {\n  const searchParams = useSearchParams()\n  const businessUnitParam = searchParams.get(\"businessUnit\") || \"\"\n  const useCaseParam = searchParams.get(\"useCase\") || \"\"\n\n  // --- FILTER STATES ---\n  const [businessUnit, setBusinessUnit] = useState<string>(\"\")\n  const [useCase, setUseCase] = useState<string>(\"\")\n  const [shortCode, setShortCode] = useState<string>(\"\")\n  const [alertKeeperValue, setAlertKeeperValue] = useState<string>(\"\")\n\n  // Entries state (fetched via dashboardService)\n  const [entries, setEntries] = useState<EntryTableItem[]>([])\n  const [runtimeValue, setRuntimeValue] = useState<string>(\"\")\n  const [runtimeOptions, setRuntimeOptions] = useState<string[]>([])\n\n  // --- CORE DATA STATES ---\n  const [kpis, setKpis] = useState<KPI[]>([])\n  const [errors, setErrors] = useState<{ plotData: PlotDataPoint[]; tableData: TableDataPoint[] }>({\n    plotData: [],\n    tableData: [],\n  })\n  const [referenceMatrix, setReferenceMatrix] = useState<number[][]>([])\n  const [currentMatrix, setCurrentMatrix] = useState<number[][]>([])\n  const [detailedMetrics, setDetailedMetrics] = useState<Record<string, DetailedMetric>>({})\n  const [xaiExplanation, setXaiExplanation] = useState<string>(\"No explanation available\")\n  const [backendError, setBackendError] = useState<string | null>(null)\n  const [loading, setLoading] = useState<boolean>(true)\n\n  // --- CLASS ACCURACY STATE ---\n  const [selectedClass, setSelectedClass] = useState<string>(\"\")\n\n  // --- HELPERS ---\n  const makeLabels = (n: number) => Array.from({ length: n }, (_, i) => i.toString())\n  const computeSquareSize = (grid: number[][]) => {\n    const maxPx = 300\n    const rows = grid.length,\n      cols = grid[0]?.length || 0\n    if (!rows || !cols) return maxPx\n    const cellSize = Math.min(maxPx / rows, maxPx / cols)\n    return Math.max(rows, cols) * cellSize\n  }\n  const getStatusIcon = (s?: string) => {\n    if (!s) return <Info className=\"h-5 w-5 text-gray-400\" />\n    switch (s.toLowerCase()) {\n      case \"warning\":\n        return <AlertTriangle className=\"h-5 w-5 text-amber-400\" />\n      case \"error\":\n        return <AlertCircle className=\"h-5 w-5 text-rose-500\" />\n      case \"success\":\n        return <CheckCircle className=\"h-5 w-5 text-emerald-400\" />\n      default:\n        return <Info className=\"h-5 w-5 text-sky-400\" />\n    }\n  }\n  const getStatusColor = (s?: string) => {\n    if (!s) return \"text-gray-400\"\n    switch (s.toLowerCase()) {\n      case \"warning\":\n        return \"text-amber-400\"\n      case \"error\":\n        return \"text-rose-500\"\n      case \"success\":\n        return \"text-emerald-400\"\n      default:\n        return \"text-sky-400\"\n    }\n  }\n\n  // 1) Fetch entries when businessUnitParam or useCaseParam change\n  useEffect(() => {\n    if (!businessUnitParam || !useCaseParam) return\n\n    const loadEntries = async () => {\n      try {\n        const fetched = await fetchEntriesTable({\n          BusinessUnit: businessUnitParam,\n          useCase: useCaseParam,\n        })\n        // Filter out any placeholder rows\n        const filtered = fetched.filter(\n          (entry) =>\n            entry.BusinessUnit !== \"Not Selected\" &&\n            entry.useCase !== \"Not Selected\" &&\n            entry.ShortCode !== \"Not Available\",\n        )\n        setEntries(filtered)\n\n        if (filtered.length === 0) {\n          setBusinessUnit(\"Not Selected\")\n          setUseCase(\"Not Selected\")\n          setShortCode(\"Not Available\")\n          setRuntimeOptions([])\n          setAlertKeeperValue(\"Not Selected\")\n          setRuntimeValue(\"\")\n        } else {\n          // Initialize with first entry\n          setBusinessUnit(filtered[0].BusinessUnit)\n          setUseCase(filtered[0].useCase)\n          setShortCode(filtered[0].ShortCode)\n\n          const uniqueRuntimes = Array.from(new Set(filtered.map((e) => e.Runtime)))\n          setRuntimeOptions(uniqueRuntimes)\n          setRuntimeValue(uniqueRuntimes[0])\n\n          const initialKeeper = filtered.find((e) => e.Runtime === uniqueRuntimes[0])?.alertKeeper || \"\"\n          setAlertKeeperValue(initialKeeper)\n        }\n      } catch (err) {\n        console.error(err)\n        setBackendError(err instanceof Error ? err.message : \"Failed to load entries\")\n      }\n    }\n\n    loadEntries()\n  }, [businessUnitParam, useCaseParam])\n\n  // 2) Update alertKeeper when runtimeValue or entries change\n  useEffect(() => {\n    if (!runtimeValue) return\n\n    const matched = entries.find((e) => e.Runtime === runtimeValue)\n    setAlertKeeperValue(matched?.alertKeeper || \"Not Selected\")\n  }, [runtimeValue, entries])\n\n  // --- FETCH DATA ---\n  const fetchAllData = async () => {\n    setLoading(true)\n    setBackendError(null)\n    try {\n      const data = await fetchData({ runtime: runtimeValue })\n\n      setKpis(data.kpis)\n      setErrors(data.errors)\n      setReferenceMatrix(data.referenceMatrix)\n      setCurrentMatrix(data.currentMatrix)\n      setDetailedMetrics(data.detailedMetrics)\n      setXaiExplanation(data.xaiExplanation)\n\n      const classes = Object.keys(data.detailedMetrics)\n      if (classes.length) setSelectedClass(classes[0])\n    } catch (err) {\n      console.error(err)\n      setBackendError(err instanceof Error ? err.message : \"Unknown error\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // 3) Fetch dynamic data when runtimeValue changes\n  useEffect(() => {\n    if (runtimeValue) {\n      fetchAllData()\n    }\n  }, [runtimeValue])\n\n  // --- CHART RENDERING WITH DESTROY LOGIC ---\n  useEffect(() => {\n    if (loading) return\n\n    // Full status distribution\n    const pieCanvas = document.getElementById(\"statusPieChart\") as HTMLCanvasElement\n    if (pieCanvas) {\n      const existing = Chart.getChart(pieCanvas)\n      if (existing) existing.destroy()\n      new Chart(pieCanvas, {\n        type: \"pie\",\n        data: {\n          labels: [\"Good\", \"Warning\", \"Error\"],\n          datasets: [\n            {\n              data: [\n                kpis.filter((k) => k.status === \"success\").length,\n                kpis.filter((k) => k.status === \"warning\").length,\n                kpis.filter((k) => k.status === \"error\").length,\n              ],\n              backgroundColor: [\"rgba(52, 211, 153, 0.8)\", \"rgba(251, 191, 36, 0.8)\", \"rgba(239,  68, 68, 0.8)\"],\n              borderColor: [\"rgba(52, 211, 153, 1)\", \"rgba(251, 191, 36, 1)\", \"rgba(239,  68, 68, 1)\"],\n              borderWidth: 1,\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"right\",\n              labels: {\n                color: \"#e5e7eb\",\n                font: { size: 14 },\n                generateLabels: (chart) =>\n                  chart.data.labels!.map((label, i) => ({\n                    text: `${label}: ${chart.data.datasets![0].data[i]} pts`,\n                    fillStyle: chart.data.datasets![0].backgroundColor![i] as string,\n                    strokeStyle: chart.data.datasets![0].borderColor![i] as string,\n                    lineWidth: 1,\n                    hidden: false,\n                    index: i,\n                  })),\n              },\n            },\n            tooltip: {\n              callbacks: {\n                label: (ctx) => `${ctx.label}: ${ctx.raw}`,\n              },\n            },\n          },\n        },\n      })\n    }\n\n    // Per-class Correct vs Incorrect\n    const classCanvas = document.getElementById(\"classAccuracyChart\") as HTMLCanvasElement\n    if (classCanvas && selectedClass) {\n      const existing2 = Chart.getChart(classCanvas)\n      if (existing2) existing2.destroy()\n\n      const dm = detailedMetrics[selectedClass]\n      new Chart(classCanvas, {\n        type: \"pie\",\n        data: {\n          labels: [\"Correct\", \"Incorrect\"],\n          datasets: [\n            {\n              data: [dm.correct_predictions.count, dm.incorrect_predictions.count],\n              backgroundColor: [\"rgba(52,211,153,0.8)\", \"rgba(239,68,68,0.8)\"],\n              borderColor: [\"rgba(52,211,153,1)\", \"rgba(239,68,68,1)\"],\n              borderWidth: 1,\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"right\",\n              labels: {\n                color: \"#e5e7eb\",\n                font: { size: 14 },\n                generateLabels: (chart) =>\n                  chart.data.labels!.map((label, i) => ({\n                    text: `${label}: ${chart.data.datasets![0].data[i]}`,\n                    fillStyle: chart.data.datasets![0].backgroundColor![i] as string,\n                    strokeStyle: chart.data.datasets![0].borderColor![i] as string,\n                    lineWidth: 1,\n                    hidden: false,\n                    index: i,\n                  })),\n              },\n            },\n          },\n        },\n      })\n    }\n  }, [loading, selectedClass, detailedMetrics, kpis])\n\n  return (\n    <div className=\"bg-gradient-to-b from-gray-950 to-gray-900 min-h-screen\">\n      <title>Mode 3 | CL Dashboard</title>\n      <main className=\"container mx-auto px-4 py-8\">\n        {/* Backend Error */}\n        {backendError && (\n          <div className=\"bg-rose-950/40 border border-rose-800/60 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-center\">\n              <AlertCircle className=\"h-5 w-5 text-rose-400 mr-2\" />\n              <p className=\"text-rose-300 font-medium\">{backendError}</p>\n            </div>\n            <button\n              onClick={fetchAllData}\n              className=\"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-rose-800/50 text-white rounded text-sm\"\n            >\n              <RefreshCw className=\"h-4 w-4\" /> Retry\n            </button>\n          </div>\n        )}\n\n        {/* Header & Refresh */}\n        <div className=\"flex flex-col md:flex-row justify-between mb-6\">\n          <h1 className=\"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600\">\n            OCTAVE – CL Dashboard\n          </h1>\n          <button\n            onClick={fetchAllData}\n            className=\"mt-4 md:mt-0 inline-flex items-center gap-2 px-4 py-2 bg-sky-800/40 text-white rounded\"\n          >\n            <RefreshCw className=\"h-4 w-4\" /> Refresh\n          </button>\n        </div>\n\n        {/* Top Filters & Runtime */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n          <div className=\"lg:col-span-2 bg-gradient-to-br from-sky-950/40 to-sky-900/20 p-6 rounded border border-sky-800/30\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <p className=\"text-sm text-sky-300\">Business Unit:</p>\n                <p className=\"text-lg text-white\">{loading ? \"Loading…\" : businessUnit || \"N/A\"}</p>\n                <p className=\"mt-4 text-sm text-sky-300\">Use Case:</p>\n                <p className=\"text-lg text-white\">{loading ? \"Loading…\" : useCase || \"N/A\"}</p>\n              </div>\n              <div>\n                <p className=\"text-sm text-sky-300\">Short Code:</p>\n                <p className=\"text-lg text-white\">{loading ? \"Loading…\" : shortCode || \"N/A\"}</p>\n                <p className=\"mt-4 text-sm text-sky-300\">Alert Keeper:</p>\n                <p className=\"text-lg text-white\">{loading ? \"Loading…\" : alertKeeperValue || \"N/A\"}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-sky-950/40 to-sky-900/20 p-6 rounded border border-sky-800/30\">\n            <p className=\"text-sm text-sky-300\">Runtime</p>\n            <select\n              className=\"mt-1 w-full bg-gray-800/80 border border-sky-700/50 rounded p-2 text-white\"\n              value={runtimeValue}\n              onChange={(e) => setRuntimeValue(e.target.value)}\n              disabled={runtimeOptions.length === 0}\n            >\n              {runtimeOptions.length === 0 ? (\n                <option value=\"\">No runtimes available</option>\n              ) : (\n                runtimeOptions.map((runtime) => (\n                  <option key={runtime} value={runtime}>\n                    {runtime}\n                  </option>\n                ))\n              )}\n            </select>\n          </div>\n        </div>\n\n        {/* Confusion Matrices */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\n          {[\n            { title: \"Reference Matrix\", grid: referenceMatrix },\n            { title: \"Current Matrix\", grid: currentMatrix },\n          ].map(({ title, grid }, idx) => {\n            const side = computeSquareSize(grid)\n            return (\n              <div key={idx} className=\"bg-gray-900/80 p-6 rounded border border-gray-700/50 text-center\">\n                <h2 className=\"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600 mb-4\">\n                  {title}\n                </h2>\n                {!loading && grid.length ? (\n                  <div style={{ width: side + 40, height: side + 40 }} className=\"mx-auto\">\n                    <D3ConfusionMatrix data={grid} labels={makeLabels(grid[0].length)} width={side} height={side} />\n                  </div>\n                ) : (\n                  <div className=\"flex justify-center items-center h-48\">\n                    <RefreshCw className=\"animate-spin h-8 w-8 text-sky-500\" />\n                  </div>\n                )}\n              </div>\n            )\n          })}\n\n          {/* Per-Class Accuracy */}\n          <div className=\"bg-gradient-to-br from-sky-950/40 to-sky-900/20 p-6 rounded border border-sky-800/30\">\n            <p className=\"text-sm text-sky-300 mb-2\">Select Class:</p>\n            <select\n              className=\"w-full bg-gray-800/80 border border-sky-700/50 rounded p-2 mb-4 text-white\"\n              value={selectedClass}\n              onChange={(e) => setSelectedClass(e.target.value)}\n            >\n              {Object.keys(detailedMetrics).map((cls) => (\n                <option key={cls} value={cls}>\n                  {cls}\n                </option>\n              ))}\n            </select>\n            <div className=\"h-48\">\n              <canvas id=\"classAccuracyChart\"></canvas>\n            </div>\n          </div>\n        </div>\n\n        {/* Detailed Metrics Table */}\n        <div className=\"bg-gray-900/80 p-6 rounded border border-gray-700/50 mb-6 overflow-x-auto\">\n          <h2 className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600 mb-4\">\n            Detailed Metrics by Class\n          </h2>\n          {loading ? (\n            <div className=\"flex justify-center py-12\">\n              <RefreshCw className=\"animate-spin h-8 w-8 text-sky-500\" />\n            </div>\n          ) : (\n            <table className=\"min-w-full divide-y divide-gray-700/50\">\n              <thead className=\"bg-gray-800/60\">\n                <tr>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">Class</th>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">Total</th>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">Correct</th>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">Incorrect</th>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">Misclassifications</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-gray-800/30 divide-y divide-gray-700/50\">\n                {Object.entries(detailedMetrics).map(([cls, dm]) => (\n                  <tr key={cls} className=\"hover:bg-gray-700/30\">\n                    <td className=\"px-4 py-2 text-white\">{cls}</td>\n                    <td className=\"px-4 py-2\">{dm.total_samples}</td>\n                    <td className=\"px-4 py-2 text-emerald-400\">\n                      {dm.correct_predictions.count} ({dm.correct_predictions.percentage.toFixed(1)}%)\n                    </td>\n                    <td className=\"px-4 py-2 text-rose-400\">\n                      {dm.incorrect_predictions.count} ({dm.incorrect_predictions.percentage.toFixed(1)}%)\n                    </td>\n                    <td className=\"px-4 py-2 text-gray-300\">\n                      {Object.entries(dm.misclassifications)\n                        .map(([p, m]) => `${p}: ${m.count} (${m.percentage.toFixed(1)}%)`)\n                        .join(\", \")}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n\n        {/* KPI Section */}\n        <div className=\"bg-gray-900/80 p-6 rounded border border-gray-700/50 mb-6\">\n          <h2 className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600 mb-4\">\n            Key Performance Indicators\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n            {kpis.map((kpi) => (\n              <div\n                key={kpi.rowKey}\n                className=\"bg-gradient-to-br from-sky-950/40 to-sky-900/20 p-4 rounded border border-sky-800/30\"\n              >\n                <p className=\"text-sky-300\">{kpi.rowKey}</p>\n                <div className=\"flex items-center mt-2\">\n                  <div className=\"w-8 h-8 flex items-center justify-center mr-2\">{getStatusIcon(kpi.status)}</div>\n                  <p className={`text-xl font-semibold ${getStatusColor(kpi.status)}`}>{loading ? \"…\" : kpi.value}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* XAI Result */}\n        <div className=\"bg-gray-900/80 p-6 rounded border border-gray-700/50 mb-6\">\n          <h2 className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600 mb-4\">\n            XAI Result\n          </h2>\n          {loading ? (\n            <div className=\"flex justify-center py-8\">\n              <RefreshCw className=\"animate-spin h-8 w-8 text-sky-500\" />\n            </div>\n          ) : (\n            <div className=\"prose prose-invert prose-sky\">\n              <ReactMarkdown>{xaiExplanation}</ReactMarkdown>\n            </div>\n          )}\n        </div>\n\n        {/* Misclassified Table */}\n        <div className=\"bg-gray-900/80 p-6 rounded border border-gray-700/50 max-h-96 overflow-y-auto\">\n          <h2 className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-sky-600 mb-4\">\n            Misclassified Table\n          </h2>\n          {loading ? (\n            <div className=\"flex justify-center py-12\">\n              <RefreshCw className=\"animate-spin h-8 w-8 text-sky-500\" />\n            </div>\n          ) : (\n            <table className=\"min-w-full divide-y divide-gray-700/50\">\n              <thead className=\"bg-gray-800/60\">\n                <tr>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">ID</th>\n                  <th className=\"px-4 py-2 text-sky-300 text-left\">True → Pred</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-gray-800/30 divide-y divide-gray-700/50\">\n                {errors.tableData.length ? (\n                  errors.tableData.map((r, i) => (\n                    <tr key={i} className=\"hover:bg-rose-900/20\">\n                      <td className=\"px-4 py-2 text-white\">{r.id}</td>\n                      <td className=\"px-4 py-2 text-rose-300\">{r.timePeriod}</td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={2} className=\"px-4 py-2 text-gray-400 text-center\">\n                      No misclassified data\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}